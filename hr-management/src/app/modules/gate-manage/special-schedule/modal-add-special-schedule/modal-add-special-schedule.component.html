<form nz-form [formGroup]="addForm" (ngSubmit)="submit()" nzLayout="vertical">
  <div nz-row nzGutter="16">
    <!-- Thời gian -->
    <div nz-col nzSpan="12">
      <nz-form-item>
        <nz-form-label nzRequired>Ngày bắt đầu</nz-form-label>
        <nz-form-control>
          <input nz-input formControlName="startDate" type="date" />
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col nzSpan="12">
      <nz-form-item>
        <nz-form-label nzRequired>Ngày kết thúc</nz-form-label>
        <nz-form-control>
          <input nz-input formControlName="endDate" type="date" />
        </nz-form-control>
      </nz-form-item>
    </div>

    <!-- Ca làm việc -->
    <div nz-col nzSpan="12">
      <nz-form-item>
        <nz-form-label nzRequired>Giờ đăng ký (từ)</nz-form-label>
        <nz-form-control>
          <nz-time-picker formControlName="morningStart" [nzFormat]="'HH:mm'" style="width: 100%;"></nz-time-picker>
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col nzSpan="12">
      <nz-form-item>
        <nz-form-label nzRequired>Giờ đăng ký (đến)</nz-form-label>
        <nz-form-control>
          <nz-time-picker formControlName="morningEnd" [nzFormat]="'HH:mm'" style="width: 100%;"></nz-time-picker>
        </nz-form-control>
      </nz-form-item>
    </div>
    <!-- <div nz-col nzSpan="12">
        <nz-form-item>
          <nz-form-label>Chiều (từ)</nz-form-label>
          <nz-form-control>
            <nz-time-picker formControlName="afternoonStart" [nzFormat]="'HH:mm'" style="width: 100%;"></nz-time-picker>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col nzSpan="12">
        <nz-form-item>
          <nz-form-label>Chiều (đến)</nz-form-label>
          <nz-form-control>
            <nz-time-picker formControlName="afternoonEnd" [nzFormat]="'HH:mm'" style="width: 100%;"></nz-time-picker>
          </nz-form-control>
        </nz-form-item>
      </div> -->

    <!-- Loại & Lý do -->
    <div nz-col nzSpan="24">
      <nz-form-item>
        <nz-form-label nzRequired>Loại</nz-form-label>
        <nz-form-control>
          <nz-select formControlName="type" [nzPlaceHolder]="'Chọn loại'">
            <nz-option nzValue="ON_SITE" nzLabel="On Site"></nz-option>
            <nz-option nzValue="CHILD_SUPPORT" nzLabel="Con nhỏ"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
    </div>

    <!-- Thông tin dự án -->
    <ng-container *ngIf="addForm.get('type')?.value === 'ON_SITE'">
      <div nz-col nzSpan="8">
        <nz-form-item>
          <nz-form-label nzRequired>Mã dự án</nz-form-label>
          <nz-form-control [nzErrorTip]="'Bắt buộc'">
            <input nz-input formControlName="projectCode" placeholder="Mã DA" />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col nzSpan="16">
        <nz-form-item>
          <nz-form-label nzRequired>Tên dự án</nz-form-label>
          <nz-form-control [nzErrorTip]="'Bắt buộc'">
            <input nz-input formControlName="projectName" placeholder="Tên dự án" />
          </nz-form-control>
        </nz-form-item>
      </div>

      <!-- Thông tin quản lý -->
      <div nz-col nzSpan="8">
        <nz-form-item>
          <nz-form-label nzRequired>Mã quản lý</nz-form-label>
          <nz-form-control [nzErrorTip]="'Bắt buộc'">
            <input nz-input formControlName="managerCode" placeholder="Mã QL" />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col nzSpan="16">
        <nz-form-item>
          <nz-form-label nzRequired>Tên quản lý</nz-form-label>
          <nz-form-control [nzErrorTip]="'Bắt buộc'">
            <input nz-input formControlName="managerName" placeholder="Tên quản lý" />
          </nz-form-control>
        </nz-form-item>
      </div>
    </ng-container>


    <div nz-col nzSpan="24">
      <nz-form-item>
        <nz-form-label>Lý do</nz-form-label>
        <nz-form-control>
          <textarea nz-input formControlName="reason" rows="2" placeholder="Nhập lý do chi tiết..."></textarea>
        </nz-form-control>
      </nz-form-item>
    </div>
  </div>

  <div class="footer-btn d-flex justify-content-end gap-2 pt-2 border-top">
    <button nz-button nzType="default" (click)="close()" [disabled]="loading">
      <span nz-icon nzType="close" nzTheme="outline"></span> Hủy
    </button>
    <button nz-button nzType="primary" [nzLoading]="loading" [disabled]="loading || (data && addForm.pristine)"
      type="submit">
      <span nz-icon nzType="save" nzTheme="outline"></span> Lưu
    </button>
  </div>
</form>